/**
 * Status Bar 状态栏组件样式
 */

.status-bar {
  @include flex-between;
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 32px;
  padding: 0 var(--space-4);
  background: rgba(17, 17, 19, 0.9);
  backdrop-filter: blur(20px);
  border-top: 1px solid var(--border-subtle);
  z-index: 100;

  &__section {
    @include flex-start;
    gap: var(--space-3);
  }

  &__center {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
  }

  &__item {
    @include flex-start;
    gap: var(--space-1);
    font-size: var(--text-xs);
    color: var(--text-muted);

    svg {
      width: 14px;
      height: 14px;
    }

    &--clickable {
      cursor: pointer;
      transition: color var(--duration-normal);

      &:hover {
        color: var(--text-secondary);
      }
    }
  }

  &__divider {
    width: 1px;
    height: 12px;
    background: var(--border-subtle);
  }

  &__hint {
    @include flex-start;
    gap: var(--space-4);
    font-size: 11px;
    color: var(--text-muted);

    kbd {
      padding: 2px var(--space-1);
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-sm);
      font-family: var(--font-mono);
      font-size: 10px;
      color: var(--text-secondary);
    }
  }

  &__checkbox {
    @include flex-start;
    gap: var(--space-1);
    font-size: var(--text-xs);
    color: var(--text-muted);
    cursor: pointer;

    input[type="checkbox"] {
      width: 14px;
      height: 14px;
      accent-color: var(--accent-primary);
      cursor: pointer;
    }
  }
}

// 场景图例
.scene-legend {
  position: absolute;
  bottom: 52px;
  left: 296px;
  min-width: 200px;
  background: rgba(17, 17, 19, 0.9);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(59, 130, 246, 0.2);
  border-radius: var(--radius-lg);
  padding: var(--space-3) var(--space-4);
  z-index: 80;
  transition: all var(--duration-slow) var(--ease-in-out);

  &.collapsed {
    left: 12px;
  }

  &__header {
    @include flex-between;
    margin-bottom: var(--space-2);
  }

  &__title {
    @include flex-start;
    gap: var(--space-2);
    font-size: var(--text-xs);
    font-weight: var(--font-semibold);
    color: var(--accent-primary);
    text-transform: uppercase;
    letter-spacing: 0.05em;

    svg {
      width: 16px;
      height: 16px;
    }
  }

  &__close {
    @include btn-icon;
    width: 20px;
    height: 20px;

    svg {
      width: 12px;
      height: 12px;
    }
  }

  &__items {
    @include flex-column;
    gap: var(--space-2);
  }

  &__item {
    @include flex-start;
    gap: var(--space-2);
    font-size: var(--text-xs);
    color: var(--text-secondary);
  }

  &__color {
    width: 20px;
    height: 14px;
    border-radius: var(--radius-sm);
    flex-shrink: 0;

    &--floor {
      background: rgba(107, 114, 128, 0.4);
      border: 1px solid rgba(107, 114, 128, 0.6);
    }

    &--outline {
      background: transparent;
      border: 2px solid var(--accent-primary);
    }

    &--area {
      background: linear-gradient(
        135deg,
        #3b82f6 0%,
        #8b5cf6 50%,
        #f97316 100%
      );
      opacity: 0.8;
    }
  }

  &__tip {
    @include flex-start;
    gap: var(--space-2);
    margin-top: var(--space-2);
    padding-top: var(--space-2);
    border-top: 1px solid var(--border-subtle);
    font-size: 11px;
    color: var(--text-muted);

    svg {
      width: 14px;
      height: 14px;
      color: var(--accent-primary);
    }
  }
}

// 模式指示器
.mode-indicator {
  position: absolute;
  top: 64px;
  left: 50%;
  transform: translateX(-50%);
  @include flex-start;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-5);
  background: rgba(59, 130, 246, 0.15);
  border: 1px solid rgba(59, 130, 246, 0.4);
  border-radius: var(--radius-lg);
  color: var(--accent-primary);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  z-index: 200;
  @include slide-down;

  svg {
    width: 20px;
    height: 20px;
  }

  &__hint {
    font-size: var(--text-xs);
    font-weight: var(--font-normal);
    color: #93c5fd;
    margin-left: var(--space-2);
    padding-left: var(--space-3);
    border-left: 1px solid rgba(59, 130, 246, 0.3);

    &--warning {
      color: var(--warning);
      animation: pulseHint 1.5s ease-in-out infinite;
    }
  }

  &__exit {
    margin-left: var(--space-3);
    padding: var(--space-1) var(--space-3);
    background: rgba(239, 68, 68, 0.2);
    border: 1px solid rgba(239, 68, 68, 0.4);
    border-radius: var(--radius-md);
    color: #f87171;
    font-size: var(--text-xs);
    font-weight: var(--font-medium);
    cursor: pointer;
    transition: all var(--duration-normal);

    &:hover {
      background: rgba(239, 68, 68, 0.3);
      border-color: rgba(239, 68, 68, 0.6);
    }
  }

  &__speed {
    @include flex-start;
    gap: var(--space-1);
    margin-left: var(--space-2);
    padding-left: var(--space-3);
    border-left: 1px solid rgba(59, 130, 246, 0.3);
  }

  &__speed-label {
    font-size: var(--text-xs);
    color: #93c5fd;
  }

  &__speed-btn {
    padding: var(--space-1) var(--space-2);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-sm);
    color: var(--text-secondary);
    font-size: 11px;
    cursor: pointer;
    transition: all var(--duration-normal);

    &:hover {
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-primary);
    }

    &--active {
      background: rgba(52, 211, 153, 0.2);
      border-color: rgba(52, 211, 153, 0.4);
      color: #34d399;
    }
  }
}
